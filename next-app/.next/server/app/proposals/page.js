(()=>{var e={};e.id=628,e.ids=[628],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},50852:e=>{"use strict";e.exports=require("async_hooks")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},4074:e=>{"use strict";e.exports=require("perf_hooks")},85477:e=>{"use strict";e.exports=require("punycode")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},17203:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>d}),r(75578),r(46572),r(97857);var s=r(56126),a=r(51947),l=r(98952),i=r.n(l),n=r(16971),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=["",{children:["proposals",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,75578)),"C:\\Users\\17gua\\Desktop\\cryptos\\tribuni\\next-app\\app\\proposals\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,48287))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,46572)),"C:\\Users\\17gua\\Desktop\\cryptos\\tribuni\\next-app\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,97857,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,48287))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\17gua\\Desktop\\cryptos\\tribuni\\next-app\\app\\proposals\\page.jsx"],u="/proposals/page",p={require:r,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/proposals/page",pathname:"/proposals",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},45971:(e,t,r)=>{let s={"6639b122db67dbb837f1863789b0434d144d4f83":()=>Promise.resolve().then(r.bind(r,86226)).then(e=>e.$$ACTION_0),"9977ed591f4dffb1a610662d81af2680cfccfacd":()=>Promise.resolve().then(r.bind(r,86226)).then(e=>e.Subscribe),"41ed94530a70521559d2d2d0414a53d14f12f71a":()=>Promise.resolve().then(r.bind(r,35686)).then(e=>e.$$ACTION_0),"71aa5649846fce8ebe08023203df78b9d8db3d88":()=>Promise.resolve().then(r.bind(r,35686)).then(e=>e.Bookmark)};async function a(e,...t){return(await s[e]()).apply(null,t)}e.exports={"6639b122db67dbb837f1863789b0434d144d4f83":a.bind(null,"6639b122db67dbb837f1863789b0434d144d4f83"),"9977ed591f4dffb1a610662d81af2680cfccfacd":a.bind(null,"9977ed591f4dffb1a610662d81af2680cfccfacd"),"41ed94530a70521559d2d2d0414a53d14f12f71a":a.bind(null,"41ed94530a70521559d2d2d0414a53d14f12f71a"),"71aa5649846fce8ebe08023203df78b9d8db3d88":a.bind(null,"71aa5649846fce8ebe08023203df78b9d8db3d88")}},42561:(e,t,r)=>{Promise.resolve().then(r.bind(r,23924)),Promise.resolve().then(r.bind(r,8758)),Promise.resolve().then(r.bind(r,56024)),Promise.resolve().then(r.bind(r,28116)),Promise.resolve().then(r.bind(r,1214))},23924:(e,t,r)=>{"use strict";r.d(t,{Header:()=>d});var s=r(46496),a=r(47364),l=r.n(a),i=r(99338),n=r.n(i),o=r(21529);let d=({protocolInfo:e})=>{let{activeProposal:t,setActiveProposal:r}=(0,o.o)();return s.jsx(l().Fragment,{children:null===t&&s.jsx("div",{className:"contents",children:(0,s.jsxs)("div",{className:"flex flex-col items-center w-full my-2 space-y-2",children:[(0,s.jsxs)("div",{className:"relative w-[4.5rem] h-[4.5rem] overflow-hidden rounded-full",children:[s.jsx("div",{className:"absolute w-full h-full bg-gradient-to-br from-isWhite to-isSystemLightTertiary animate-pulse"}),s.jsx(n(),{fill:!0,src:e.icon,alt:`Logo of ${e.name} protocol`})]}),s.jsx("div",{className:"inline-block w-full text-xl text-center font-600 text-isLabelLightPrimary",children:e.name})]})})})}},8758:(e,t,r)=>{"use strict";r.d(t,{Manage:()=>f});var s=r(46496),a=r(47364),l=r.n(a);r(88925),r(96060);var i=(0,r(62820).$)("9977ed591f4dffb1a610662d81af2680cfccfacd"),n=r(82480),o=r(50686),d=r(42270),c=r(21529),u=r(48189),p=r(85384);let f=({proposals:e})=>{let{user:t,setUser:r,activeProposal:f}=(0,c.o)(),m=(0,n.useSearchParams)().get("protocol"),[x,h]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!0),v=()=>{t.id&&t.chatid&&m&&(t.subscriptions.includes(m)?h(!0):h(!1),!0===g&&b(!1))};if((0,a.useEffect)(()=>{v()},[t,m]),null===f)return(0,s.jsxs)(l().Fragment,{children:[(0,s.jsxs)("div",{className:(0,o.Z)("flex flex-row items-center justify-between w-full px-4 py-2 rounded-xl bg-isWhite mt-4",d.d),children:[s.jsx("div",{className:"text-base text-isLabelLightPrimary font-400",children:"Subscribed"}),!0===g?s.jsx(u.$,{classes:(0,o.Z)("w-5 h-5 border-isBlueLight")}):(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{onChange:async()=>{let e=t.subscriptions;d.AL,r(e.includes(m)?{...t,subscriptions:e.filter(e=>e!==m)}:{...t,subscriptions:[...e,m]}),h(!x),await i({username:t.id,protocol:m})},type:"checkbox",checked:x,className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-isGreenLight"})]})]}),s.jsx("div",{className:"w-full"}),s.jsx(p.Hr,{classes:(0,o.Z)("my-3 !px-0")})]})}},56024:(e,t,r)=>{"use strict";r.d(t,{Navigator:()=>d});var s=r(46496),a=r(42270),l=r(21529),i=r(50686),n=r(88925),o=r(82480);let d=()=>{let e=(0,o.useSearchParams)(),t=e.get("username"),r=e.get("chatid"),{activeProposal:d,setActiveProposal:c}=(0,l.o)();return s.jsx("div",{className:(0,i.Z)("flex flex-col items-start w-full group",a.k2,a.d),children:null===d?(0,s.jsxs)(n.default,{href:`/protocols?username=${t}&chatid=${r}`,className:(0,i.Z)("flex flex-row items-center space-x-0",a.k2),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:(0,i.Z)("w-6 h-6 fill-isBlueLight stroke-isBlueLight",a.k2),children:s.jsx("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z",clipRule:"evenodd"})}),s.jsx("div",{className:(0,i.Z)("text-sm text-isBlueLight font-500",a.k2),children:"Protocols"})]}):(0,s.jsxs)("button",{onClick:()=>{c(null)},className:(0,i.Z)("flex flex-row items-center space-x-0",a.k2),children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:(0,i.Z)("w-6 h-6 fill-isBlueLight stroke-isBlueLight",a.k2),children:s.jsx("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 010-1.06l7.5-7.5a.75.75 0 111.06 1.06L9.31 12l6.97 6.97a.75.75 0 11-1.06 1.06l-7.5-7.5z",clipRule:"evenodd"})}),s.jsx("div",{className:(0,i.Z)("text-sm text-isBlueLight font-500",a.k2),children:"Back"})]})})}},28116:(e,t,r)=>{"use strict";r.d(t,{RenderList:()=>m});var s=r(46496),a=r(47364),l=r.n(a),i=r(50686),n=r(42270),o=r(82480),d=r(21529),c=r(77115);r(88925),r(96060);var u=(0,r(62820).$)("71aa5649846fce8ebe08023203df78b9d8db3d88"),p=r(85384);let f=({proposalMap:e,protocol:t})=>{let{activeProposal:r,user:a,setUser:o}=(0,d.o)();Date.now(),e[r].starttime,e[r].endtime,Date.now();let f={starttime:1e3*e[r].starttime,endtime:1e3*e[r].endtime},m={startDate:new Date(f.starttime),endDate:new Date(f.endtime)},x=Intl.DateTimeFormat().resolvedOptions().timeZone;m.startDate.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,timeZone:x}),m.endDate.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0,timeZone:x});let h=0,g=0,b=a.bookmarks.includes(r);e[r].results&&0!==e[r].results.length&&(h=e[r].results.reduce((e,t)=>e+parseFloat(t.total),0),g=e[r].results.map((e,t)=>parseFloat(e.total)/h*100));let v=["rgb(0, 199, 190)","rgb(50, 173, 230)","rgb(0, 122, 255)","rgb(88, 86, 214)","rgb(175, 82, 222)","rgb(255, 45, 85)","rgb(162, 132, 94)"],{value:y,unit:w,tense:j}=function(e){let t=new Date,r=new Date(e)-t,s=Math.floor(r/1e3/60/60/24),a=Math.floor(s/30),l=Math.floor(s/365);return l>0?{value:l,unit:"years",tense:r>=0?"left":"ago"}:a>0?{value:a,unit:"months",tense:r>=0?"left":"ago"}:s>0?{value:s,unit:"days",tense:r>=0?"left":"ago"}:{value:"0",unit:"days",tense:"left"}}(1e3*e[r].endtime);return s.jsx(l().Fragment,{children:(0,s.jsxs)("div",{id:"",className:"w-full px-3 pt-1 pb-2 rounded-xl",children:[(0,s.jsxs)("div",{className:"z-10 flex flex-row items-center justify-between w-full space-x-1 text-sm font-500 place-content-end",children:[s.jsx("button",{className:(0,i.Z)("flex flex-row items-center font-500 px-3 py-1 leading-tight rounded-lg bg-isBlueLight text-isLabelDarkPrimary !-ml-1",n.k2),children:t}),s.jsx("div",{}),(0,s.jsxs)("button",{onClick:async()=>{let e=a.bookmarks;n.AL,o(e.includes(r)?{...a,bookmarks:e.filter(e=>e!==r)}:{...a,bookmarks:[...e,r]}),await u({username:a.id,proposal:r})},className:(0,i.Z)("flex flex-row items-center px-3  py-1 leading-tight rounded-lg text-isLabelDarkPrimary !-mr-1",n.k2,b?"bg-isGreenLight":"bg-isOrangeLight"),children:[s.jsx("div",{className:"font-500",children:b?"Bookmarked":"Bookmark"}),b?s.jsx(c.od,{classes:(0,i.Z)("h-5 w-5 ml-[0.2rem] -mr-1 fill-isLabelDarkPrimary")}):s.jsx(c.kw,{classes:(0,i.Z)("h-5 w-5 -mr-1 fill-isLabelDarkPrimary")})]})]}),s.jsx("div",{className:"py-2 mt-2 text-xl tracking-tight leading-tight text-left text-isLabelLightPrimary font-600",children:e[r].title.replace(/"/g,"")}),s.jsx("hr",{className:"mb-5 rounded-full bg-isSeparatorLight mt-2"}),(0,s.jsxs)("div",{className:"w-full flex flex-row items-center space-x-4 h-12",children:[(0,s.jsxs)("div",{className:"w-5/12 flex justify-evenly flex-row items-center place-content-center bg-isWhite text-isLabelLightPrimary rounded-xl h-full",children:[s.jsx("div",{className:"w-fit flex flex-col items-end place-content-center text-3xl shrink-0 font-700 text-isSystemDarkTertiary",children:y}),(0,s.jsxs)("div",{className:"flex flex-col items-start w-fit text-isLabelLightSecondary leading-tight font-500",children:[s.jsx("div",{children:w}),s.jsx("div",{children:j})]})]}),e[r].url&&null!==e[r].url&&"undefined"!==e[r].url&&s.jsx("a",{href:e[r].url,rel:"noopener noreferrer",target:"_blank",className:"w-7/12 flex flex-col items-center place-content-center bg-isBlueLight text-lg font-600 text-isWhite rounded-xl h-full",children:"Vote Now"})]}),e[r].results&&0!==e[r].results.length&&s.jsx("div",{className:"w-full h-fit mt-5",children:s.jsx("div",{className:"flex flex-col items-center w-full bg-isWhite p-4 rounded-xl",children:s.jsx("div",{className:"w-full",children:s.jsx("div",{className:"flex flex-col items-center w-full text-xs capitalize rounded-lg bg-isWhite text-isLabelLightSecondary font-400",children:e[r].choices.map((t,a)=>{let i=parseFloat(e[r].results[a].total),n=g[a].toFixed(2),o=new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short",maximumFractionDigits:1}).format(i),d=a%v.length;return(0,s.jsxs)(l().Fragment,{children:[0!==a&&s.jsx("div",{className:"mb-3"}),s.jsx("div",{className:"w-full space-x-2",children:s.jsx("div",{className:"relative h-3 bg-isSystemLightSecondary rounded-2xl overflow-hidden",children:s.jsx("div",{className:"absolute top-0 h-3 rounded-2xl",style:{width:`${n}%`,backgroundColor:v[d]}})})}),(0,s.jsxs)("div",{className:"flex flex-row items-center justify-between w-full mt-1",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[s.jsx("div",{className:"truncate text-ellipsis max-w-[7rem]",children:t})," ",(0,s.jsxs)("div",{children:[", ",n,"%"]})]}),(0,s.jsxs)("div",{className:"ml-auto",children:[o," votes"]})]})]},a)})})})})}),s.jsx(p.Hr,{classes:(0,i.Z)("!mt-5")}),s.jsx("div",{className:"uppercase text-isLabelLightSecondary !mt-2 text-base font-500",children:"Proposal Summary"}),s.jsx("div",{className:"!mt-2 rounded-xl p-4 text-sm text-isLabelLightPrimary bg-isWhite leading-tight relative font-400 break-words remove-all",children:e[r].summary})]})})},m=({proposalMap:e,protocol:t})=>{(0,o.useParams)();let[r,u]=(0,a.useState)("all"),{activeProposal:m,setActiveProposal:x}=(0,d.o)(),h=Object.keys(e).map(t=>e[t]);h.sort((e,t)=>t.endtime-e.endtime);let g=h.filter(e=>{let t=Math.floor(Date.now()/1e3),s=e.endtime-t;return"all"===r||("active"===r?s>0:"closed"===r&&s<0)});return(0,s.jsxs)(l().Fragment,{children:[null===m&&s.jsx(p.mQ,{list:["all","active","closed"],setter:u,active:r,classes:(0,i.Z)("!pt-0 !px-0 !max-w-none mt-1")}),(0,s.jsxs)("div",{id:"proposal-detail",className:(0,i.Z)("w-full overflow-y-auto grow !space-y-2 text-md hide-scrollbar rounded-xl mt-5 pb-20",n.k2,n.d,null!==m&&"mt-3"),children:[null!==m&&s.jsx(f,{proposalMap:e,protocol:t}),null===m&&(0,s.jsxs)(l().Fragment,{children:[g.map(e=>(Date.now(),e.starttime,e.endtime,Date.now(),(0,s.jsxs)("button",{onClick:()=>{x(e.id);let t=document.getElementById("proposal-detail");t&&t.scrollTo({top:0,left:0,behavior:"smooth"})},className:"w-full hover:bg-isSystemLightTertiary bg-isWhite rounded-2xl !mt-0 p-4 flex flex-row",children:[(0,s.jsxs)("div",{className:"flex flex-col grow w-[calc(100%-3rem)]",children:[s.jsx("div",{className:"w-full flex flex-row items-center space-x-1 font-400 text-base",children:s.jsx("div",{className:"tracking-tight rounded-md w-fit text-isLabelLightSecondary ",children:function(e){let t=new Date,r=new Date(1e3*e)-t,s=Math.abs(Math.floor(r/1e3)),a=Math.abs(Math.floor(s/60)),l=Math.abs(Math.floor(a/60)),i=Math.abs(Math.floor(l/24)),n=Math.abs(Math.floor(i/7)),o=Math.abs(Math.floor(i/30)),d=Math.abs(Math.floor(i/365));return r<0?d>0?`${d}y ago`:o>0?`${o}mo ago`:n>0?`${n}w ago`:i>0?`${i}d ago`:l>0?`${l}h ago`:a>0?`${a}min ago`:`${s}s ago`:d>0?`in ${d}y`:o>0?`in ${o}mo`:n>0?`in ${n}w`:i>0?`in ${i}d`:l>0?`in ${l}h`:a>0?`in ${a}min`:`in ${s}s`}(e.starttime)})}),s.jsx("div",{className:(0,i.Z)("w-full text-isLabelLightPrimary font-400 text-left truncate text-ellipsis text-base",n.k2),children:e.title.replace(/"/g,"")})]}),s.jsx("div",{className:"shrink-0 ml-5 w-5 self-center",children:s.jsx(c.Qw,{classes:(0,i.Z)("w-5 h-5 fill-isLabelLightSecondary")})})]},e.id))),0===g.length&&s.jsx(l().Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col items-center mt-8 place-content-center",children:[s.jsx(c.lh,{classes:(0,i.Z)("h-16 w-16 fill-isGrayLight2")}),s.jsx("div",{className:"w-full text-lg text-center font-600 text-isLabelLightPrimary",children:"Didn't find any proposals."}),s.jsx("div",{className:"text-sm text-isLabelLightSecondary font-500",children:"Check back later."})]})})]})]})]})}},85384:(e,t,r)=>{"use strict";r.d(t,{Hr:()=>n,mQ:()=>o,Vp:()=>d,Dx:()=>i});var s=r(46496),a=r(50686),l=r(42270);let i=({text:e})=>s.jsx("div",{className:(0,a.Z)("w-full text-4xl text-isLabelLightPrimary font-700 pl-4 pt-3",l.k2,l.d),children:e}),n=({classes:e})=>s.jsx("div",{className:(0,a.Z)("w-full",l.d,e),children:s.jsx("hr",{className:(0,a.Z)("w-full rounded-full bg-isSeparatorLight")})}),o=({list:e,setter:t,active:r,classes:i})=>s.jsx("div",{className:(0,a.Z)("w-full max-w-md px-4",i),children:s.jsx("div",{className:(0,a.Z)("w-full p-[0.16rem] rounded-xl bg-isFillLightTertiary text-sm  grid grid-cols-3 gap-[0.16rem] text-isLabelLightPrimary font-500",l.d),children:e.map((e,i)=>s.jsx("button",{onClick:()=>{t(e)},className:(0,a.Z)("w-full text-center capitalize rounded-lg py-1",l.k2,r===e?"bg-isWhite":""),children:e},i))})}),d=({text:e,bg:t})=>s.jsx("div",{className:(0,a.Z)("px-[0.4rem] mr-2 text-sm py-[0.125rem] rounded-md text-isWhite font-400 tabular-nums",t),children:e})},99338:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return o},getImageProps:function(){return n}});let s=r(59425),a=r(11226),l=r(41787),i=s._(r(73832));function n(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let o=l.Image},35686:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$ACTION_0:()=>n,Bookmark:()=>i});var s=r(28963);r(3456);var a=r(59315),l=r(76138);let i=(0,s.registerServerReference)("41ed94530a70521559d2d2d0414a53d14f12f71a",n);async function n({username:e,proposal:t}){try{let r=`
		UPDATE telegram_users
		SET bookmarks = 
		  CASE 
			WHEN '${t}' = ANY(bookmarks) THEN array_remove(bookmarks, '${t}')
			ELSE array_append(bookmarks, '${t}')
		  END
		WHERE id = '${e}'
		RETURNING
		  '${t}' = ANY(bookmarks) AS value_added,
		  NOT('${t}' = ANY(bookmarks)) AS result;
`;return{result:(await a.sql.unsafe(r)).result}}catch(e){return{result:!1}}}(0,l.ensureServerEntryExports)([i]),(0,s.registerServerReference)("71aa5649846fce8ebe08023203df78b9d8db3d88",i)},86226:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$ACTION_0:()=>n,Subscribe:()=>i});var s=r(28963);r(3456);var a=r(59315),l=r(76138);let i=(0,s.registerServerReference)("6639b122db67dbb837f1863789b0434d144d4f83",n);async function n({username:e,protocol:t}){try{let r=`
		UPDATE telegram_users
		SET subscriptions = 
		  CASE 
			WHEN '${t}' = ANY(subscriptions) THEN array_remove(subscriptions, '${t}')
			ELSE array_append(subscriptions, '${t}')
		  END
		WHERE id = '${e}'
		RETURNING
		  '${t}' = ANY(subscriptions) AS value_added,
		  NOT('${t}' = ANY(subscriptions)) AS result;
`;return{result:(await a.sql.unsafe(r)).result}}catch(e){return{result:!1}}}(0,l.ensureServerEntryExports)([i]),(0,s.registerServerReference)("9977ed591f4dffb1a610662d81af2680cfccfacd",i)},75578:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>L,getData:()=>P,revalidate:()=>_});var s=r(43859),a=r(16698),l=r(23215);let i=(0,l.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\app\proposals\Header.jsx`),{__esModule:n,$$typeof:o}=i;i.default;let d=(0,l.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\app\proposals\Header.jsx#Header`),c=(0,l.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\app\proposals\RenderList.jsx`),{__esModule:u,$$typeof:p}=c;c.default;let f=(0,l.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\app\proposals\RenderList.jsx#RenderList`);var m=r(23542);let x=(0,l.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\app\proposals\Navigator.jsx`),{__esModule:h,$$typeof:g}=x;x.default;let b=(0,l.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\app\proposals\Navigator.jsx#Navigator`),v=(0,l.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\app\proposals\Manage.jsx`),{__esModule:y,$$typeof:w}=v;v.default;let j=(0,l.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\app\proposals\Manage.jsx#Manage`);var N=r(78278),k=r(10028),S=r(9725);let _=0,P=async({protocol:e})=>{let t=`
	SELECT *
FROM proposals
WHERE protocol = '${e}';
`,r=await m.i.unsafe(t),s=`
	SELECT *
FROM protocols
WHERE id = '${e}';
`,a=await m.i.unsafe(s);return{protocolInfo:a=a[0],proposalMap:r.reduce((e,t)=>(e[t.id]=t,e),{})}};async function L({searchParams:e}){let t=e.protocol;if(!t)return(0,a.notFound)();let{protocolInfo:r,proposalMap:l}=await P({protocol:t});return s.jsx(S.w,{children:(0,s.jsxs)("div",{className:(0,N.Z)("flex flex-col w-full p-4 grow bg-isSystemLightSecondary overflow-hidden",k.d),children:[s.jsx(b,{}),s.jsx(d,{protocolInfo:r}),s.jsx(j,{proposals:Object.keys(l).length}),s.jsx(f,{proposalMap:l,protocol:r.name})]})})}},10028:(e,t,r)=>{"use strict";r.d(t,{AL:()=>l,d:()=>a});var s=r(78278);(0,s.W)("duration-200 transition-all ease-in-out");let a=(0,s.W)("max-w-xl"),l={id:null,chatid:null,premium:0,email:null,subscriptions:[],duration:86400,pause_alerts:!1,telegram_alerts:!0,email_alerts:!1,last_telegram_alert:0,last_email_alert:0};(0,s.W)("w-full p-1 bg-isWhite text-isLabelLightPrimary rounded-xl min-w-[22rem] shadow-sm border-isSeparatorLight")},59315:(e,t,r)=>{"use strict";r.d(t,{sql:()=>s.sql});var s=r(36799)},23542:(e,t,r)=>{"use strict";r.d(t,{o:()=>a,i:()=>s});let s=(0,r(71468).Z)({host:process.env.DB_HOST,port:process.env.DB_PORT,database:process.env.DB_NAME,username:process.env.DB_USERNAME,password:process.env.DB_PASSWORD,ssl:!1,max:20,max_lifetime:null,idle_timeout:60,connect_timeout:30});function a(e){return null==e?null:e.replace(/'/g,"''")}},36799:(e,t,r)=>{"use strict";r.d(t,{sql:()=>s});let s=(0,r(77548).default)({host:process.env.DB_HOST,port:process.env.DB_PORT,database:process.env.DB_NAME,username:process.env.DB_USERNAME,password:process.env.DB_PASSWORD,ssl:!1,max:20,max_lifetime:null,idle_timeout:60,connect_timeout:30})},9725:(e,t,r)=>{"use strict";r.d(t,{w:()=>c,$:()=>l});var s=r(43859),a=r(78278);let l=({classes:e})=>s.jsx("div",{className:(0,a.Z)("inline-block border-[3.5px] rounded-full animate-spin  border-t-transparent drop-shadow-sm",e),role:"status","aria-label":"loading",children:s.jsx("span",{className:"sr-only",children:"Loading..."})});var i=r(23215);let n=(0,i.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\components\loaders\PageLoader.jsx`),{__esModule:o,$$typeof:d}=n;n.default;let c=(0,i.createProxy)(String.raw`C:\Users\17gua\Desktop\cryptos\tribuni\next-app\components\loaders\PageLoader.jsx#PageLoader`)},16698:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(47585),a=r(64002);class l extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new l}delete(){throw new l}set(){throw new l}sort(){throw new l}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},41275:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},47585:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return m},getRedirectTypeFromError:function(){return f},getURLFromRedirectError:function(){return p},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let a=r(54580),l=r(72934),i=r(41275),n="NEXT_REDIRECT";function o(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let s=Error(n);s.digest=n+";"+t+";"+e+";"+r+";";let l=a.requestAsyncStorage.getStore();return l&&(s.mutableCookies=l.mutableCookies),s}function d(e,t){void 0===t&&(t="replace");let r=l.actionAsyncStorage.getStore();throw o(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=l.actionAsyncStorage.getStore();throw o(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,a]=e.digest.split(";",4),l=Number(a);return t===n&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(l)&&l in i.RedirectStatusCode}function p(e){return u(e)?e.digest.split(";",3)[2]:null}function f(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function m(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},48287:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(73324);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[558,358,468,776,324,581,787,410],()=>r(17203));module.exports=s})();