(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[938],{4303:function(e,s,a){Promise.resolve().then(a.bind(a,1148)),Promise.resolve().then(a.bind(a,8445))},1148:function(e,s,a){"use strict";a.d(s,{PageLoader:function(){return d}});var r=a(5862),l=a(7058),t=a(6357),i=a(4332),n=a(5296);let d=e=>{let{children:s}=e,{pageLoading:a,setPageLoading:d}=(0,t.o)();return((0,l.useEffect)(()=>{d(!1)},[a]),!1===a)?(0,r.jsx)(l.Fragment,{children:s}):(0,r.jsx)("div",{className:"flex flex-col items-center w-full p-4 place-content-center",children:(0,r.jsx)(i.$,{classes:(0,n.Z)("w-5 h-5 border-isBlueLight")})})}},4332:function(e,s,a){"use strict";a.d(s,{$:function(){return t}});var r=a(5862),l=a(5296);let t=e=>{let{classes:s}=e;return(0,r.jsx)("div",{className:(0,l.Z)("inline-block border-[3.5px] rounded-full animate-spin  border-t-transparent drop-shadow-sm",s),role:"status","aria-label":"loading",children:(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})})}},8445:function(e,s,a){"use strict";a.d(s,{Settings:function(){return p}});var r=a(5862),l=a(8187),t=a(6357),i=a(5296),n=a(7058),d=a(2789);a(107);var c=a(6404);(0,c.$)("9851377ceade0babe793391bd43d714260efb02d");var o=(0,c.$)("13653ecf74637efdaa1cb06d323f3f6f1a7ad254"),f=(0,c.$)("bf7a5308d57b589280c6ae16e6d74bc93bf0efe6"),m=a(788),h=a.n(m),x=(0,c.$)("9afb73a6e20b53d6d24065c2cdfbaaae9d0073ea"),u=a(6349),g=a(5042);let p=()=>{let{user:e,setUser:s,refreshUser:a,setRefreshUser:c}=(0,t.o)(),[m,p]=(0,n.useState)(""),b=async()=>{h().isEmail(m)?(await x({username:e.id,newEmail:m}),u.ZP.success("Email updated"),c(!a),s({...e,email:m})):u.ZP.error("Invalid Email")};return(0,r.jsx)(n.Fragment,{children:(0,r.jsx)("div",{className:(0,i.Z)("w-full flex flex-col px-4 pb-24"),children:(0,r.jsxs)("div",{className:"w-full mt-5 space-y-5",children:[(0,r.jsxs)("div",{className:(0,i.Z)("w-full bg-isWhite py-2 rounded-xl flex flex-col overflow-hidden",l.d),children:[(0,r.jsxs)("div",{className:"flex flex-row items-center px-3 space-x-2",children:[(0,r.jsx)("div",{className:"flex flex-col items-center w-6 h-6 rounded-md bg-isOrangeLight shrink-0",children:(0,r.jsx)(d.Ax,{classes:(0,i.Z)("w-6 h-6 fill-isWhite")})}),(0,r.jsx)("div",{className:"font-400 text-isLabelLightPrimary",children:"Proposal Alerts"})]}),(0,r.jsx)("hr",{className:"w-full my-2 rounded-full bg-isSeparatorLight"}),(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between px-3",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex flex-col items-center w-6 h-6 rounded-md bg-isRedLight shrink-0",children:(0,r.jsx)(d.be,{classes:(0,i.Z)("w-6 h-6 fill-isWhite")})}),(0,r.jsx)("div",{className:"font-400 text-isLabelLightPrimary",children:"Email"})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{onChange:async()=>{s({...e,email_alerts:!e.email_alerts}),await o({type:"email_alerts",username:e.id})},type:"checkbox",checked:e.email_alerts,className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-isGreenLight"})]})]}),(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between px-3 mt-2",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex flex-col items-center w-6 h-6 rounded-md bg-isBlueLight shrink-0",children:(0,r.jsx)(d.tS,{classes:(0,i.Z)("w-6 h-6 fill-isWhite")})}),(0,r.jsx)("div",{className:"font-400 text-isLabelLightPrimary",children:"Telegram"})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{onChange:async()=>{s({...e,telegram_alerts:!e.telegram_alerts}),await o({type:"telegram_alerts",username:e.id})},type:"checkbox",checked:e.telegram_alerts,className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-isGreenLight"})]})]}),(0,r.jsxs)("div",{className:"flex flex-row items-center justify-between px-3 mt-2",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex flex-col items-center w-6 h-6 rounded-md bg-isPurpleLight shrink-0",children:(0,r.jsx)(d.VX,{classes:(0,i.Z)("w-6 h-6 fill-isWhite")})}),(0,r.jsx)("div",{className:"font-400 text-isLabelLightPrimary",children:"Pause All Alerts"})]}),(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,r.jsx)("input",{onChange:async()=>{s({...e,pause_alerts:!e.pause_alerts}),await o({type:"pause_alerts",username:e.id})},type:"checkbox",checked:e.pause_alerts,className:"sr-only peer"}),(0,r.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-isGreenLight"})]})]}),(0,r.jsx)("hr",{className:"w-full mt-2 rounded-full bg-isSeparatorLight"}),(0,r.jsx)("div",{className:"p-1 -mb-2 text-xs text-center font-400 text-isLabelLightPrimary bg-isWhite",children:!0===e.pause_alerts?"All alerts are paused.":!0===e.email_alerts&&!0===e.telegram_alerts?null===e.email?"Email alerts are on, but email is missing.":"Both email and telegram alerts are on.":!0===e.email_alerts?null===e.email?"Email alerts are on, but email is missing.":"Email alerts are on.":!0===e.telegram_alerts?"Telegram Alerts are on.":"No alerts are turned on."})]}),(0,r.jsxs)("div",{className:(0,i.Z)("w-full bg-isWhite py-2 rounded-xl flex flex-col overflow-hidden",l.d),children:[(0,r.jsxs)("div",{className:"flex flex-row items-center px-3 space-x-2",children:[(0,r.jsx)("div",{className:"flex flex-col items-center w-6 h-6 rounded-md bg-isCyanLight shrink-0",children:(0,r.jsx)(d.Ff,{classes:(0,i.Z)("w-6 h-6 fill-isWhite")})}),(0,r.jsx)("div",{className:"font-400 text-isLabelLightPrimary",children:"Alert Frequency"})]}),(0,r.jsx)("hr",{className:"w-full my-2 rounded-full bg-isSeparatorLight"}),(0,r.jsx)("div",{className:"w-full px-3",children:(0,r.jsx)("div",{className:(0,i.Z)("w-full p-[0.15rem] rounded-lg bg-isGrayLight4 text-sm grid grid-cols-3 gap-1 text-isLabelLightPrimary font-400",l.d),children:[{key:"24h",name:"24 hrs",duration:86400},{key:"72h",name:"72 hrs",duration:259200},{key:"7d",name:"7 days",duration:604800}].map(a=>(0,r.jsx)("button",{onClick:async()=>{s({...e,duration:a.duration}),await f({username:e.id,duration:a.duration})},className:(0,i.Z)("w-full text-center rounded-[0.35rem] py-[0.1rem]",l.k2,e.duration===a.duration&&"bg-isWhite"),children:a.name},a.key))})}),(0,r.jsx)("hr",{className:"w-full mt-2 rounded-full bg-isSeparatorLight"}),(0,r.jsx)("button",{onClick:async()=>{try{await fetch("".concat(g.env.NEXT_PUBLIC_NGROK_URL,"/api/v4/alerts/telegram"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test:!0,username:e.id,chatid:e.chatid})}),u.ZP.success("Telegram Alert Sent"),null!==e.email?(await fetch("".concat(g.env.NEXT_PUBLIC_NGROK_URL,"/api/v4/alerts/email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({test:!0,username:e.id,userEmail:e.email})}),u.ZP.success("Email Alert Sent")):u.ZP.error("Email address was not found")}catch(e){console.log(e)}},className:(0,i.Z)("p-2 -mb-2 text-sm cursor-pointer text-center font-500 text-isLabelLightPrimary bg-isCyanLight text-isWhite hover:bg-isCyanLightEmphasis",l.k2),children:"Click here to send test alert now."})]}),(0,r.jsxs)("div",{className:(0,i.Z)("w-full bg-isWhite py-2 rounded-xl flex flex-col overflow-hidden",l.d),children:[(0,r.jsxs)("div",{className:"flex flex-row items-center px-3 space-x-2",children:[(0,r.jsx)("div",{className:"flex flex-col items-center w-6 h-6 rounded-md bg-isRedLight shrink-0",children:(0,r.jsx)(d.be,{classes:(0,i.Z)("w-6 h-6 fill-isWhite")})}),(0,r.jsx)("div",{className:"font-400 text-isLabelLightPrimary",children:"Add"})]}),(0,r.jsx)("hr",{className:"w-full my-2 rounded-full bg-isSeparatorLight"}),(0,r.jsx)("div",{className:"flex flex-row items-center justify-between px-3",children:(0,r.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex flex-col items-center w-6 h-6 rounded-md bg-isBlueLight shrink-0",children:(0,r.jsx)(d.$7,{classes:(0,i.Z)("w-6 h-6 fill-isWhite")})}),(0,r.jsx)("div",{className:"font-400 text-isLabelLightPrimary",children:null===e.email?"No Email Address Found":e.email})]})}),(0,r.jsx)("div",{className:"flex flex-row items-center justify-between w-full px-3 mt-2",children:(0,r.jsxs)("div",{className:"flex flex-row items-center w-full px-1 py-1 space-x-1 rounded-md bg-isSystemLightSecondary",children:[(0,r.jsx)(d.xu,{classes:(0,i.Z)("h-6 w-6 fill-isSystemDarkTertiary")}),(0,r.jsx)("input",{onChange:e=>{p(e.target.value)},value:m,type:"email",placeholder:"Type your email address here",className:"w-full text-base bg-transparent outline-none focus:outline-none text-isLabelLightPrimary"})]})}),(0,r.jsx)("button",{onClick:()=>{b()},className:"px-3 mt-2 ",children:(0,r.jsxs)("div",{className:(0,i.Z)("py-[0.1rem] text-base rounded-md bg-isGreenLight text-isWhite font-500 hover:bg-isGreenLightEmphasis flex flex-row items-center place-content-center",l.k2),children:[(0,r.jsx)(d.Kv,{classes:(0,i.Z)("w-7 h-7 fill-isWhite")}),(0,r.jsx)("div",{children:"Change Email"})]})}),(0,r.jsx)("hr",{className:"w-full mt-2 rounded-full bg-isSeparatorLight"}),(0,r.jsx)("div",{className:"p-1 -mb-2 text-xs text-center font-400 text-isLabelLightPrimary bg-isWhite",children:null===e.email?"Please add email to receive email alerts.":"Email is added and verified."})]})]})})})}}},function(e){e.O(0,[349,642,482,158,660,744],function(){return e(e.s=4303)}),_N_E=e.O()}]);